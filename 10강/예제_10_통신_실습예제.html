<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Insert title here</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

        <script type="text/javascript">
            $(document).ready(function () {
                
                $.ajax({
                    type: 'GET',
                    url: 'http://sample.bmaster.kro.kr/contacts?pageno=3&pagesize=10',
                    success: function (result) {
                        console.log(result);

                        $(result.contacts).each(function (index, item) {
                            $('#list-table').append(
                                '<tr>' +
                                    '<td>' +
                                    item.no +
                                    '</td>' +
                                    '<td>' +
                                    item.name +
                                    '</td>' +
                                    '<td>' +
                                    item.tel +
                                    '</td>' +
                                    '<td>' +
                                    item.address +
                                    '</td>' +
                                    '<td><img src=" ' +
                                    item.photo +
                                    '"></td>' +
                                    '<td><button class="del-button">삭제</button></td>' +
                                    '</tr>'
                            );

                            // $('.del-button').click(function () {
                            //     console.log(this);
                            //     $(this).parent().parent().remove();
                            // });
                        });
                    },
                    error: function (e) {
                        console.log(e);
                    },
                });

                $(document).on('click', '.del-button', function () {
                    console.log(this);
                    $(this).parent().parent().remove();
                });
            });
        </script>

    </head>
    <body>
        <table id="list-table" width="500" border="1" style="margin: 0 auto">
            <tr>
                <td>번호</td>
                <td>이름</td>
                <td>전화번호</td>
                <td>주소</td>
                <td>사진</td>
                <td>삭제</td>
            </tr>
        </table>
    </body>
</html>
